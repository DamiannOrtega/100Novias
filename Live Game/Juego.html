<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>100 Kanojo, Atrapa a Rentarou</title>
    <script src="//cdn.jsdelivr.net/npm/phaser@3.11.0/dist/phaser.js"></script>
    <link rel="stylesheet" href="styles/estilos.css">
    <link rel="stylesheet" href="styles/botones.css">

</head>

<body>

    <div id="characterSelection">
        <h2>Selecciona tu personaje</h2>
        <div class="characters">
            <div class="character" onclick="selectCharacter('Nano')"
                onmouseover="hoverCharacter(this, 'assets/Nano/NanoSeleccionada.png')"
                onmouseout="hoverCharacter(this, 'assets/Nano/Nano.png')">
                <img src="assets/Nano/Nano.png" alt="Personaje 1">
                <p>Personaje 1</p>
            </div>

            <div class="character" onclick="selectCharacter('Shizuka')"
                onmouseover="hoverCharacter(this, 'assets/Nano/Shizuka.png')"
                onmouseout="hoverCharacter(this, 'assets/Shizuka/Smuerte.png')">
                <img src="assets/Shizuka/Smuerte.png" alt="Personaje 2">
                <p>Personaje 2</p>
            </div>
        </div>
    </div>

    <button>
        <img src="assets/Nano/NanoQuieta.png" alt="icono" class="icon" />
        <span class="now">now!</span>
        <span class="play">play</span>

    </button>
    <!-- Incluir todos los scripts -->
    <script src="jugador.js"></script>
    <script src="menu.js"></script>
    <script src="gameScene.js"></script>

    <script type="text/javascript">

        function selectCharacter(character) {
            let mainMenuScene = game.scene.keys.MainMenu; // Accede a la escena del menú

            if (mainMenuScene) {
                mainMenuScene.selectCharacter(character); // Llama a la función de selección dentro de Phaser
            }
        }
        // Configuración del juego con Phaser
        var config = {
            type: Phaser.AUTO,
            width: 1500,
            height: 800,
            physics: {
                default: 'arcade',
                arcade: {
                    gravity: { y: 300 },
                    debug: false
                }
            },
            audio: {
                disableWebAudio: false
            },
            plugins: {
                scene: [
                    {
                        key: 'DOMElementPlugin', // Clave del plugin
                        plugin: Phaser.DOMElement, // Plugin de DOMElement
                        mapping: 'dom' // Mapeo para usar `this.add.dom`
                    }
                ]
            },
            scene: [MainMenu, GameScene] // Escenas del juego
        };

        // Inicializa el juego con la configuración proporcionada
        var game = new Phaser.Game(config);
    </script>
</body>

</html>